!function(){"use strict";console.log("[SAP Pro Toolkit] Injected script loaded");let e=null,o=window.location.href;function a(){if(window.pageHeaderJsonData&&"object"==typeof window.pageHeaderJsonData){const a=window.pageHeaderJsonData.companyId;return a===e&&window.location.href===o||(console.log("[SAP Pro Toolkit Injected] Sending pageHeaderJsonData:",{companyId:a,baseUrl:window.pageHeaderJsonData.baseUrl,url:window.location.href,fullData:window.pageHeaderJsonData}),window.postMessage({type:"sf-pro-toolkit-data",data:window.pageHeaderJsonData},"*"),e=a,o=window.location.href),!0}return!1}let t=0;const n=setInterval(()=>{t++,a()?clearInterval(n):t>=50&&(console.log("[SAP Pro Toolkit] pageHeaderJsonData not found after 10 seconds"),window.postMessage({type:"sf-pro-toolkit-error",error:"pageHeaderJsonData not found"},"*"),clearInterval(n))},200);let r=window.location.href;setInterval(()=>{window.location.href!==r&&(console.log("[SAP Pro Toolkit] URL changed, re-checking pageHeaderJsonData"),r=window.location.href,a())},500);const l=new MutationObserver(()=>{a()});document.querySelector("title")&&l.observe(document.querySelector("title"),{childList:!0,characterData:!0,subtree:!0})}();